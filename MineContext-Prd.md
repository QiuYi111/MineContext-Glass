# The Vision

MineContext Glass 以真实世界为原点重新想象个人上下文管理。通过智能眼镜捕捉每日生活视频，将长时间影像转化为结构化、可检索的知识库，在物理世界与数字世界之间建立桥梁。每一段视频都成为动态记忆系统的一部分，为总结、提醒和智能推荐提供燃料。

Point is：利用智能眼镜的低侵入性，我们可以简易地获取日常生活第一视角的视听记录，我们认为这远远比MineContext局限于赛博空间的截屏手段要更加第一性。

# 我们需要什么？

+ 各种格式的视频数据导入和抽帧
+ 对视频的音频部分进行转写，并于视频时间对齐
+ 抽帧和转写基于时间对齐后，形成一份原始的context信息（参考数据模型部分）
+ 原始context经过处理（包括文档分块、视觉语义提取和向量嵌入等，参考处理层）并入库
+ 最后，大模型从库中提取context，生成活动、提示、任务和报告等

# 开发方案

我们将基于MineContext进行开发，参考 docs/reuse_reference.md

### 后端层次抽象

+ 输入层：输入视频，并且进行抽帧和转写。
  + 预期实现 VideoManager类
  + 方案：使用ffmpeg和whisperX作为工具
+ 数据层：复用 MineContext的 数据层，但我们可能需要更好的数据格式，用来把转写和图像共同对齐。
+ 处理层：复用 MineContext 的处理层，将数据路由到合适的处理器
+ 储存层 ：复用 MineContext的储存层，将处理后数据存储到数据库中供大模型使用
+ 消费层 ： 复用，处理完的上下文可被 ConsumptionManager 驱动的日报、活动、提示、待办等生成任务消费

### 前端需求

+ webui
+ 便捷地拖入各种类型视频
+ 便捷编辑 prompts
+ 一键生成报告、提示、待办等
+ 精美有设计感

### 部署

+ docker 一键部署
+ ubuntu/mac 一键配置环境脚本
  + 建议使用mamba，这样可以保证cuda
